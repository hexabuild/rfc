Network Working Group                                          N. Buraglio
Request for Comments: XXXY                                     Energy Sciences Network
Category: Informational
                                                                R. White
                                                                Juniper Networks
                                                                April 2022


                ULA is Broken

Status of this Memo

   This memo provides information for the Internet community.  It does
   not specify an Internet standard of any kind.  Distribution of this
   memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2021).

Abstract

<txt>


1.  Introduction

<txt>




Buraglio, et al.               Informational                      [Page 1]

RFC XXXX         ULA is Broken      April 2022

2.  Defining how ULA is Broken

RFC 6724 definition is incorrect for ULA precedence if a host is operating in a dual-stack environment. Expected 
behavior would be that ULA address space would be preferred over IPv4, however this is not the case. 

3.  Operational Implications

There are demonstrated uses cases of ULA not being preferred in some OS and network equipment over IPv4 that necessitate the immediate
to update RFC 6724 to better reflect the original intent of the RFC. As with most adjustments to standards, and using RFC 6724 itself as a 
measurment, this update will likely take between 8-20 years to become common enough for relatively consistent behavior within operating systems. 
As an example, the time between RFC 3484, published in 2003 and RFC 6724, published in 2012 was roughly 10 years in total as there still exist 
commercial and open source operating systems exibiting RFC 3484 behavior). Notable examples of such out-of-date behavior can be easily found in printers, 
cameras, fixed devices, IoT sensors, and long lifecycle equipment. It is especially important to note this behavior in long lifecycle equipment that exists
in industrial control and operational techology environments due to their very long mean time to replacement. Practically, the resulting move to dual-stack 
with ULA is inconsistent and imparts unnecessary difficulty in troubleshooting and creating baseline expected behavior, both requirements for most deployments 
of this type. 
This, in turn, results in operational and engineering teams not gaining IPv6 experience as no traffic is actually using IPv6, and security baseline 
expectations are inconsistent at best and haphazard at worst. 

In practrice, RFC 6724 imposes several operational shortcomings preventing both consistent and desired behavior. 
If we define "desired" behavior" as IPv6 preference over legacy IPv4 for address and protocol selection, then the resulting
implemented behavior, based on RFC 6724, will fall short of that intent. Based on the current verbiage, while dual stacked hosts
configured with both an IPv4 RFC 1918 address and an IPv6 ULA address the resulting behavior will manifest as a host choosing 
IPv4 over ULA IPv6. This behavior deviates from IPv4 addressing with IPv6 GUA addressing which will prefer IPv6 over IPv4 regardless 
of the IPv4 addressing (be it RFC 1918, RFC 6598 or public RIR assigned addressing). Operationally and strategically, this manifests as an impediment to 
deployment of IPv6 for many non-service provider and mobile networks phasing in dual-stacked (both legacy IPv4 and IPv6) networking with the expectation of leveraging 
similar operational models to their existing architectures.    

Other operational considerations are the use of the policy table detailed in section 2.1 of RFC 6724. While conceptually the intent was for a configurable, longest-match 
table to be adjusted as-needed, in practice the policy table remains inconsistently accessable across platforms. Embedded, proprietary, closed source, and IoT devices
 are especially difficult to adjust and are, in many cases, incapable of any adjustment whatsoever. Large scale manipulation of the policy table also remains largely 
 out of the realm of realistic support for small and medium scale operators due to inconsistent, obtuse, or non-existent implementation.   


4.  IANA Considerations

<txt>







Buraglio, et al.               Informational                      [Page 2]

RFC XXXX         ULA is Broken      April 2022


5.  Security Considerations
 
Such unexpected behavior can result in odd operational outcomes which can result in serious
security and compliance issues and could, in some cases, result in disabling of IPv6 to acheive compliance and consistency. 

6.  Acknowledgements

<txt>

7.  References

7.1.  Normative References

   [1]  D. Thaler, R. Draves, et al., "Default Address Selection for Internet Protocol Version 6 (IPv6)", RFC 6724, September 2012.
   [2]  R. Hinden and B. Haberman, "Unique Local IPv6 Unicast Addresses", RFC 4193, October 2005
   [3]  J. Weil,  V. Kuarsingh,. et al., "IANA-Reserved IPv4 Prefix for Shared Address Space", RFC 6598, April 2012.
   [4]  Y. Rekhter, B. Moskowitz, et al., "Address Allocation for Private Internets", RFC 1918, February 1996.

7.2.  Informative References

   [3]  <author>

Do we need to reference these?:



Authors' Addresses

   Nick Buraglio
   Energy Sciences Network

   EMail: buraglio@es.net


   Russ White
   Juniper Networks

   EMail: russ@riw.us





